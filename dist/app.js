angular.module("myApp",["myApp.controllers","myApp.filters","myApp.services","myApp.directives"]),angular.module("myApp.controllers",[]).controller("songCtrl",function($scope,songService){$scope.songs=songService.get(),$scope.newSong={},$scope.addSong=function(artist,title){$scope.songs.push({artist:artist,title:title,score:0}),$scope.newSong.title="",$scope.newSong.artist=""},$scope.isEmpty=function(str){return _.isBlank(str)},$scope.$watch("songs",function(newValue,oldValue){newValue!==oldValue&&songService.put($scope.songs)},!0),$scope.deleteSong=function(song){var idx=$scope.songs.indexOf(song);idx>=0&&$scope.songs.splice(idx,1)}}),_.mixin(_.string.exports()),angular.module("myApp.directives",[]).directive("rating",function(){var directive={};return directive.restrict="AE",directive.scope={score:"=score",max:"=max"},directive.templateUrl="app/templates/rating.html",directive.link=function(scope,elements,attr){scope.updateStars=function(){var idx=0;for(scope.stars=[],idx=0;idx<scope.max;idx+=1)scope.stars.push({full:scope.score>idx})},scope.starClass=function(star,idx){var starClass="fa-star-o";return(star.full||idx<=scope.hoverIdx)&&(starClass="fa-star"),starClass},scope.$watch("score",function(newValue,oldValue){null!==newValue&&void 0!==newValue&&scope.updateStars()}),scope.setRating=function(idx){scope.score=idx+1,scope.stopHover()},scope.hover=function(idx){scope.hoverIdx=idx},scope.stopHover=function(){scope.hoverIdx=-1},scope.starColor=function(idx){var starClass="rating-normal";return idx<=scope.hoverIdx&&(starClass="rating-highlight"),starClass}},directive}),angular.module("myApp.filters",[]).filter("titleize",function(){return function(input){return _.titleize(input)}}),angular.module("myApp.services",[]).factory("songService",function(){var STORAGE_ID="myApp.songs",factory={};return factory.get=function(){return JSON.parse(localStorage.getItem(STORAGE_ID)||"[]")},factory.put=function(songs){localStorage.setItem(STORAGE_ID,JSON.stringify(songs))},factory}),angular.module("templates-dist",["../app/templates/rating.html"]),angular.module("../app/templates/rating.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("../app/templates/rating.html",'<div class="rating">\n  <a ng-repeat="star in stars" ng-click="setRating($index)" ng-mouseover="hover($index)" ng-mouseleave="stopHover()" ng-class="starColor($index)">\n    <i class="fa" ng-class="starClass(star, $index)"></i>\n  </a>\n</div>')}]);